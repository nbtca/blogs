<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python爬虫实战-获取王者荣耀英雄大全 | nbtca&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/blogs/img/favicon.ico">
    <meta name="description" content="使用python爬虫的实践记录,王者荣耀篇。">
    <meta name="keywords" content="前端博客,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/blogs/assets/css/0.styles.2b610ef7.css" as="style"><link rel="preload" href="/blogs/assets/js/app.4e3e2af5.js" as="script"><link rel="preload" href="/blogs/assets/js/3.cae9d0dd.js" as="script"><link rel="preload" href="/blogs/assets/js/2.3e01c173.js" as="script"><link rel="preload" href="/blogs/assets/js/11.d6ed255f.js" as="script"><link rel="prefetch" href="/blogs/assets/js/1.9c67557b.js"><link rel="prefetch" href="/blogs/assets/js/10.b42142bb.js"><link rel="prefetch" href="/blogs/assets/js/12.3ae3203e.js"><link rel="prefetch" href="/blogs/assets/js/13.44e7785f.js"><link rel="prefetch" href="/blogs/assets/js/14.978aee7a.js"><link rel="prefetch" href="/blogs/assets/js/15.d644ab42.js"><link rel="prefetch" href="/blogs/assets/js/16.804f5bb0.js"><link rel="prefetch" href="/blogs/assets/js/17.68c0f214.js"><link rel="prefetch" href="/blogs/assets/js/18.83c123fb.js"><link rel="prefetch" href="/blogs/assets/js/19.9ff3ccd4.js"><link rel="prefetch" href="/blogs/assets/js/20.f779867f.js"><link rel="prefetch" href="/blogs/assets/js/21.8dd07746.js"><link rel="prefetch" href="/blogs/assets/js/22.56ff0b7d.js"><link rel="prefetch" href="/blogs/assets/js/23.a6107fe7.js"><link rel="prefetch" href="/blogs/assets/js/24.0d3d3fd2.js"><link rel="prefetch" href="/blogs/assets/js/25.ce296d9d.js"><link rel="prefetch" href="/blogs/assets/js/26.7d153fbe.js"><link rel="prefetch" href="/blogs/assets/js/27.60015939.js"><link rel="prefetch" href="/blogs/assets/js/28.7a31a0fb.js"><link rel="prefetch" href="/blogs/assets/js/29.f74e4bac.js"><link rel="prefetch" href="/blogs/assets/js/30.ec518614.js"><link rel="prefetch" href="/blogs/assets/js/31.97ee026f.js"><link rel="prefetch" href="/blogs/assets/js/32.9361cdc0.js"><link rel="prefetch" href="/blogs/assets/js/33.a1c24dcf.js"><link rel="prefetch" href="/blogs/assets/js/34.0a78da7c.js"><link rel="prefetch" href="/blogs/assets/js/35.19ffa2bd.js"><link rel="prefetch" href="/blogs/assets/js/36.96cb54b5.js"><link rel="prefetch" href="/blogs/assets/js/37.8d5f7cae.js"><link rel="prefetch" href="/blogs/assets/js/38.c9aeb214.js"><link rel="prefetch" href="/blogs/assets/js/39.98039708.js"><link rel="prefetch" href="/blogs/assets/js/4.ff1945ce.js"><link rel="prefetch" href="/blogs/assets/js/40.1c46d02f.js"><link rel="prefetch" href="/blogs/assets/js/41.c476b400.js"><link rel="prefetch" href="/blogs/assets/js/42.f1f9bb5b.js"><link rel="prefetch" href="/blogs/assets/js/43.1f92c216.js"><link rel="prefetch" href="/blogs/assets/js/44.c9238af6.js"><link rel="prefetch" href="/blogs/assets/js/45.733da100.js"><link rel="prefetch" href="/blogs/assets/js/46.35cb9742.js"><link rel="prefetch" href="/blogs/assets/js/47.c4c8cf62.js"><link rel="prefetch" href="/blogs/assets/js/48.b16d88fc.js"><link rel="prefetch" href="/blogs/assets/js/49.656a10f9.js"><link rel="prefetch" href="/blogs/assets/js/5.e1b3cf5e.js"><link rel="prefetch" href="/blogs/assets/js/50.4c8cf2a5.js"><link rel="prefetch" href="/blogs/assets/js/51.f70b3259.js"><link rel="prefetch" href="/blogs/assets/js/52.bb5f19b2.js"><link rel="prefetch" href="/blogs/assets/js/53.706dc212.js"><link rel="prefetch" href="/blogs/assets/js/54.50a3bdf4.js"><link rel="prefetch" href="/blogs/assets/js/55.83ce3926.js"><link rel="prefetch" href="/blogs/assets/js/56.a19b841f.js"><link rel="prefetch" href="/blogs/assets/js/57.b4e57742.js"><link rel="prefetch" href="/blogs/assets/js/6.ebe718a8.js"><link rel="prefetch" href="/blogs/assets/js/9.2d6a470b.js"><link rel="prefetch" href="/blogs/assets/js/vendors~docsearch.9a9ec59f.js">
    <link rel="stylesheet" href="/blogs/assets/css/0.styles.2b610ef7.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blogs/" class="home-link router-link-active"><img src="/blogs/img/logo.png" alt="nbtca's blog" class="logo"> <span class="site-name can-hide">nbtca's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blogs/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/blogs/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/blogs/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blogs/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blogs/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blogs/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/nbtca" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://nbtca-1310707740.cos.ap-shanghai.myqcloud.com/logo.jpg"> <div class="blogger-info"><h3>nbtca</h3> <span>计协</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/blogs/" class="nav-link">首页</a></div><div class="nav-item"><a href="/blogs/technology/" class="nav-link">技术</a></div><div class="nav-item"><a href="/blogs/more/" class="nav-link">更多</a></div><div class="nav-item"><a href="/blogs/about/" class="nav-link">关于</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/blogs/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blogs/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/blogs/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/blogs/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/nbtca" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>C语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GO语言</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Python</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blogs/pages/b8d343/" aria-current="page" class="active sidebar-link">Python爬虫实战-获取王者荣耀英雄大全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/blogs/pages/b8d343/#python爬虫实战-获取王者荣耀英雄大全" class="sidebar-link">Python爬虫实战-获取王者荣耀英雄大全</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level4"><a href="/blogs/pages/b8d343/#前置准备" class="sidebar-link">前置准备</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/b8d343/#初步挖掘" class="sidebar-link">初步挖掘</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/b8d343/#反思问题" class="sidebar-link">反思问题</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/b8d343/#改善代码" class="sidebar-link">改善代码</a></li><li class="sidebar-sub-header level4"><a href="/blogs/pages/b8d343/#数据存储" class="sidebar-link">数据存储</a></li></ul></li></ul></li><li><a href="/blogs/pages/019940/" class="sidebar-link">Python爬虫实战 - 爬取TIOBE TOP20语言排行榜</a></li></ul></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/blogs/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/blogs/technology/#技术" data-v-06225672>技术</a></li><li data-v-06225672><a href="/blogs/technology/#Python" data-v-06225672>Python</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://www.cnblogs.com/N3ptune" target="_blank" title="作者" class="beLink" data-v-06225672>N3ptune</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-04-17</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">Python爬虫实战-获取王者荣耀英雄大全<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="python爬虫实战-获取王者荣耀英雄大全"><a href="#python爬虫实战-获取王者荣耀英雄大全" class="header-anchor">#</a> Python爬虫实战-获取王者荣耀英雄大全</h2> <p>URL: https://pvp.qq.com/web201605/herolist.shtml</p> <h4 id="前置准备"><a href="#前置准备" class="header-anchor">#</a> 前置准备</h4> <p>访问后页面如下所示:：</p> <p><img src="/blogs/assets/img/python-wzry-1.77a16f14.png" alt="python-wzry-1"></p> <p>不难发现，这是静态网页，对于众多英雄的信息，并未使用js渲染，这貌似是个软柿子？</p> <p>按下F12使用开发者工具，点击Doc，查看请求的Reponse，可以看到众多英雄的信息在这个静态文档列举了出来，于是似乎只要按照html标签就可以轻松获取信息(<em><u>后面会解释，这实际上是个坑，先暂且按照这个思路进行</u></em>)。</p> <p><img src="/blogs/assets/img/python-wzry-2.a9292ace.png" alt="python-wzry-2"></p> <p>拼接li标签下对应的链接(https://pvp.qq.com/web201605/ + herodetail/***.html)，就可以访问到指定英雄对应的链接，如下所示：</p> <p><img src="data:image/png;base64,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" alt="python-wzry-3"></p> <p>拼接的URL和访问的页面如下所示：</p> <p><img src="data:image/png;base64,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" alt="python-wzry-4"></p> <p><img src="/blogs/assets/img/python-wzry-5.654a8189.png" alt="python-wzry-5"></p> <p>然后就可以愉快的获取信息了！</p> <h4 id="初步挖掘"><a href="#初步挖掘" class="header-anchor">#</a> 初步挖掘</h4> <p>只须使用如下第三方库：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> re
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>之后编写代码的流程也很清晰明了，先通过主页面获取所以英雄的名称及其对应的链接，因为该网页使用了GBK编码，所以要进行转码。</p> <p>代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>herolist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
hero_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

root_url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/&quot;</span>
herolist_url <span class="token operator">=</span> root_url <span class="token operator">+</span> <span class="token string">&quot;herolist.shtml&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64)'</span><span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">get_herolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>herolist_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
    soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span> <span class="token comment"># GBK编码</span>
    targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;herolist clearfix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">:</span>
        name <span class="token operator">=</span> target<span class="token punctuation">.</span>text
        link <span class="token operator">=</span> root_url <span class="token operator">+</span> target<span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> link<span class="token punctuation">)</span>
        herolist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> link<span class="token punctuation">)</span><span class="token punctuation">)</span>

get_herolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>运行结果如下：</p> <p><img src="data:image/png;base64,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" alt="python-wzry-6"></p> <p>下面访问单个英雄的链接，理清HTML结构后就可以获取数据。</p> <p>英雄的称号在h3标签中：</p> <p><img src="/blogs/assets/img/python-wzry-7.67d1a8b8.png" alt="python-wzry-7"></p> <p>英雄的属性在class=&quot;cover-list&quot;的标签中，每个属性的信息在li标签中，每个属性的值其实就是横条的长度。</p> <p><img src="/blogs/assets/img/python-wzry-8.ad0940eb.png" alt="python-wzry-8"></p> <p>这个值可以在li标签下的i标签中找到，只要取出style的值即可，这是一个百分数字符串，取这个字符串中&quot;:&quot;和&quot;%&quot;之间的字符串，得到一个数字，这个数字就可以代表属性值的大小。</p> <p><img src="/blogs/assets/img/python-wzry-9.9b856959.png" alt="python-wzry-9"></p> <p>英雄的职业虽然没有以文本的形式显示出来，但如下<code>i</code>标签中的class值明显是和职业有关的：</p> <p><img src="/blogs/assets/img/python-wzry-10.1e2d149f.png" alt="python-wzry-10"></p> <p>只要看看其他的英雄的页面，就可以得到如下对应关系：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXgAAAB9CAMAAACf+YiTAAAC/VBMVEX////6//////78//////np/v//+7X41WXU/f8sus/a/f+C6Pz//vTkyFK7/P///uvuz13/+tU1lUMdiCi2rirl/f/f/v+j9/9dhUATlYz1/v/999EToaIuiSEbhCH//dz88sL/9qvb+//3//8UhCUTmZQvkz4ViDg3hF2QoS0Yij3EtjYtuMn86Y61+v/p8+v//uD87JSAm2xMo1j///uJmR7//e9Hx+QyvNIar73z1Wewqiau+/8gssEUnJfy0mAlhyHs/f/H8PpAv9YVhirg8OI/xN9Lt7AhiXEmjzmvrDHQ9vxVw8zq578hqaT75okflGL+/ub//MPs4pr43Xb4123DvFKcoSAakE8KgB5Dsql2nDi/+/+O7f3v+frn8OT+87z+8qINmZSToGFBnU7I/P///dg7tsA6kDCeoyn78beCpkEShTNs3Pn//ug7ucNenJDCxmyZqUFGkjDK9Pb//c1SpaMfiTPg8O2w5evA6Olq0Nzp7s5cwMA5qpn534KKp0JVhhyX6Pvy9+tDwM763nlXiWqjtFZ8o0s9lUdSlzlLzOhMxdgrsLfv6bLU1o3j14kkinMTiGxPhkxZhjFmkCSb8v6u7v144fhZzePX/N6o068coaKIwpITkIHTy2eXoC2RnSoIgip4lh85gB0orK1sunsUjHcRi3cXjnO1e1mXrkzZw0tShURShEJknDoMhzU8hyWRQxrX3sH845J0ooqBvW+srkdFhTpT0PBk1emM19QYmJGtwY40m1/HuDrn9/nK49BDsLwvn4eYw4WhtXZdq2jgz2WHuFqswlmnqVCU5ejW7N1zz9J+yMAeq7M3ra28x5omm5VYuYolm3lwkViKn1JuplGu8u6529il8MqL18Yks8F1t6o1p6ATnJp4vopBnnNBhFal7PxpoNdmndbg5M8essG+2cApc8Apc7+nzb7D167y2n01lDZPnubv+tqSmLv88avnw58RSZlXn5hII2B6LhesWRTt8b7n86qG2OKv76tqlGXV56s12/RAAAAK10lEQVR42u2de1hTZRzHf9sOaHOCGwE1AlRwKpUbc44yKpZaKdRkJKEQqFzSCo0U73hhhYIX1LwVLbvSzbIyvIaCgGiIiShxyYLsYqlkdvXW0/vucIYa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" alt="python-wzry-11"></p> <p>于是这部分代码就可以这样写：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">get_heroinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    professions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'herodetail-sort-1'</span><span class="token punctuation">:</span> <span class="token string">'战士'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-2'</span><span class="token punctuation">:</span> <span class="token string">'法师'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-3'</span><span class="token punctuation">:</span> <span class="token string">'坦克'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-4'</span><span class="token punctuation">:</span> <span class="token string">'刺客'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-5'</span><span class="token punctuation">:</span> <span class="token string">'射手'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-6'</span><span class="token punctuation">:</span> <span class="token string">'辅助'</span>
                   <span class="token punctuation">}</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> herolist<span class="token punctuation">:</span>
        name<span class="token punctuation">,</span>hero_url <span class="token operator">=</span> item
        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>hero_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span>
        title <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;h3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text  <span class="token comment"># 英雄称号</span>
        profession <span class="token operator">=</span> professions<span class="token punctuation">[</span>soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;herodetail-sort&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment"># 英雄职业</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;cover-list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span>
        values <span class="token operator">=</span> <span class="token punctuation">[</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;:([0-9]+%)&quot;</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'style'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">]</span>  <span class="token comment"># 英雄能力值</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> name<span class="token punctuation">,</span> profession<span class="token punctuation">,</span> values<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>运行结果：</p> <p><img src="/blogs/assets/img/python-wzry-12.b7dfbade.png" alt="python-wzry-12"></p> <p>现在来解释这部分代码：</p> <p>首先定义了一个字典来存放英雄职业对应关系，然后遍历上一段代码获取到的列表，取出每个元素中的链接，进行访问。</p> <p>对每个链接再做一次请求，获取HTML文档后，借助标签进行数据提取，只要按照上文中说明的流程即可。我这里选择将属性值封装进一个列表。</p> <p>我还想获得英雄关系，能便于我在选英雄时具有针对性...</p> <p><img src="/blogs/assets/img/python-wzry-13.28407e62.png" alt="python-wzry-13"></p> <p>观察HTML代码，可以看到3大关系都放在如下3个标签中：</p> <p><img src="/blogs/assets/img/python-wzry-14.ad03129d.png" alt="python-wzry-14"></p> <p>一个关系中有两个英雄，分别放在li标签下，而a标签下存放的路径，就指向了这个英雄：</p> <p><img src="data:image/png;base64,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" alt="python-wzry-15"></p> <p>那么依据这个链接，就可以得到这个英雄：</p> <p>这里我选择在最开始获取英雄链接的函数里，加上一个建立字典的操作，这个字典的键就是路径(被分割过)，值是英雄名：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAtgAAADkCAMAAACVKqPIAAAC/VBMVEX////8+u37//////vr/v////f/+LBdGDT2///f/f+1ZBzilkb+89DT/P8ZFRUcHR0UQpHb/P8VP4vuolH+7qWB0fz/+93//url+v/++ub/+tW8+v+G1v3m5uYTGClRFjj4+u0ha7v99Kfc+O3/+rX824za9v/4r1slGBIbICwoKCkVN4QVTJwvHRIvfMz96JkYJm1ZhUQOEBc1gdCSSR7868CvYSjFdClSn+f86LahoZ4YhSTH+v+HOxeBUzn7/fz//vB/5fYwecT31WV9yukkX6kvu89aGiaZYDn43rYxMTFnKRQEBATyq1nlnU20rSul8P7998YjMlkZijlGcKUVlIZMltUia7AhImdDP0E7KyLn+O1lpNgjW533vGzQ8/52xvj9+vTyp1VZGA6K6/sXMXk6F1OoeEstdL2w1/twEaPr38oSPb/4yoAcLESR3P3O6PWwyuS8bCTy+u3O9u3mw5w6kDP4qLYSinHx9fsTXtlvNM4ab4bzsmBhjCe27v658u1GlORXisE6YJl5RDB4MhWc6Pe64eU2Y6Y8EBDyu83xzasVm5SeUh8mRY7tzlozhCSAeuo1dLkjsr777dhEi869e0NcPihru/neyMAbpqYhTps3XYxKLyFpsePOYp5CGEeQniuNQCi+z+uM0efS2ch/G6CXlZUvSG/97uqXD6qFk2pp2/nX8Ozy8eb73t1UPsLsyI3kyVMRisX02KpTUpugsEpMhDqZzvfQtavCk2BgHEW4p7Izqp6VlfBKyuMzTcF7LbVUcI71q1Vl0uSnvdBKwcqrRKPDqZeHjYvFiU/Ax8gme5LK3eTql6vjtHtRtvEkiesldegqq+Gmqb9WDZP3230rj2QIaIPWwUbEtjfwx+kfn9eJsM5Fi8Dq3JWznYhvVUVFsKt8o0h2XN3LkL3CxGNAlk/VerKfKaDWr4aIYdgyfMuMbb1ph2t+hl/AUaff3/rf5NWqgL+Ilb02KpLe9PiKek50WbUQDYlpwHcfHY/n1nOGxnLdz2gotfEdAAAgE0lEQVR42uyba2xMQRTHx31wsS1btLctGkK1KKLqlVYRQhVBRBFUva1SJI20uyJexTYkFc94BimLpAQJPjTdRlJkw9IvmyhBKvFWKvjo3LvOXp3traUIyfklTGfuzJn/nf4zPTvtMIIgCIIgCIIgCIIgCIIgCIIgCIIgCIIgmsBZaP2+VpFbGMtCJKZyFGuSDI+vWmCAeLNGYATxt+CN3eKLVyhowoKWvVJIxkbEx2BsjRXLG4+TsmWOwljUvu1WRhB/zNjRFzqzpii+9CvGNo8TM2ivwoCowcskRhC/CdeX3MKPYGxXfW7uxjDW4k1Fbm7FPcOKe255HL6sIhZ92uGYEQZVh8/j8QqGsZ9W+i5NYfgc/HrN46gWoCPUrYaxMyp9NVD6A+QZccTJEWFMp2Or+X6jL1MYQTQP+c091fWl0CrX34/PeXNP4Xds+XG1YqlcBGWNNfpWNTzP53bsS9ktTtcogefFPq8kF7CoW9WqVkdjY44N/0tyFysLxIlJG4pTre2mQBG1dA7l4kRzcWk2flZo1UtnYSpnbDCoF/6dZxYt5Sjulhps7PNaU+vA8+KsWAakbIdd/DJ8zRmb5WedUhmAcTrGBaZb0CeMEcRvoayiSM+xyypygcJYzthgyxopZfoilnLYAYBRg4w9Sjc2PodURHdnBnypu5s3tnyw0nFUNYzd83gRxpo3IJURxO/bsZ3ajp3X+IdHS6XHM0aBYpFeNTM2Pkdjm+7YwIpKr0A7NvEnSf8ux16d3mW5wBsbjBqfDq2QQ2end9kmQEPWBpYeZGx8jsY2zbE/ZAvRt7wYh3Js4g+BpyI59ZCMHGjE2A6fz+eVWPRwOMa4IfiPP7wCb2x8jsb2n4rEs6jTHmivUeXhWrnXKt90+PTTE4wjtg2cioyjUxHib5Gxu0gQMyCv+GPEnJhB59jEX0Y/6JDzIVdGMPN26FxKZc2A+81jPCOIv0SL4R6P51ERIwiCIAiCIAiCIAiCIAiCIAiCIIiGOEttJYJRbdmqE2uSlbPD++n9xSHdoAwVHMcTeXY5M2WdXWUmhKR3QQRdB/3/6H9FCrmf8Sv4YMRjoRkbkdt8M2jxmhD14Lh/0th0GfpfY/0hKfR+ePn3Nxo7eJ7/0tj0R2Q/Sa+512cn7hWYZXxC1+nxjA0bkRA+7SpDWma2A3ZZTftnbJlw5t0uq/6N69C+NRcHiqSBvXvPEPi4UJ+QMHFVHvbHfnj5F4ykGUZi62qf6UmI39ioB+Z7eyT8DPTB+VAXzJOo1dGgK4+EQyoSrOcbqBvHmxu7vtRmX82Yq67U9gp87Hxh08uyKpu7HoyN7agX2m3u5aZ6xbv7w7tuztbWL3za5wgr9x78euFlaCJ0Y3fdJOUUwH4wNt4yaLQiDhkrjTwYH3L/6J2vFUtaRMDYQXHEtn0lGMbFBfuMVvrH5QXiYD+8mGAY21auiAXBO/bC9tmRO7spOB51RQ7arWp1NCjm2Lwe3tg43tzY9k85dbWCfKxWddVpxj2plL0oZ3JdreR6YVexHfWKz2sV+YFqrjdjjTIscyiL3pmlpmyNsHLvwa0XXtSgP2QPnV4DYgM3uCYtThXbTnuo/kR/KMErhrH5OGgkPm5kmhc8fCAQB/tpDQ2NbY9vNBUZd6DBfKir55IpjM2bGcsbm9fDGxvHmxv7qq5nj1+XFRXp9Tt2FdsDeu+41xQwc73+mZKFjnGd9PVr8B7cetHVul8ytn+1eu5oB8Cijny5P3GTypDuC8OBiDCz/vpd3QWGsfk4aCQ+rrx2mdTzeJ4xL/aDgJyxVcPYhh5+PtQFntbdzRub18MbG8ebGRv1lJXaAHsYc1a53aUlQtnZDXqOje0BvbKzylYumeoV85/MmpWULOD6NXgPbr3oMnQzjN0xLg9bxMuZQ4VQ+8OOgzs2lLAj8XHQSEbcHEXPsTNXzTqqBOI0umPf4Y3NGxLnQ13mOzavB0HdIRkbd2xgz9lygd+x+Q+SkKqY6u047qig7dj4E49/D9RLO3YzjR01eO7qnBUnBfngasGStlEItT/miDFpyVJGZvvWwXEmDdggpjOj3iOzr8qg+dCndMGIg/0wx46qKoEc9sfGxvGoyyzH5vUgqDvY2GL+x9bBxoZc+n162XsGRhadZ0sEyLELXFV2FdtRr/jgPXNVlZvq7R83X7y4MDmwfvx7oF6/Dsqxf9nYzLI0aeCqOYK8L2lg4vTskPsHPtVfPDJw2rldrYPjWMaHJw79rj5161iJMXF9wsSJ8DkJ+2M/vPyrnTq4nxnGHlnnLrW5X0m8UXB8QFfKCP10IXL8hISuE7ZLUYO1crOV14NxUDeOx3EwY5u+arCxmes56CgXZChePS8R8FQE2wPGhqp2SmKmd+TtpMTDS5P96wenSvx7oF7UoW/ydCrylb1zC5EpjuP46cyMkEtTGtcUhvCCLaJxGfcIu2NaoZDciVAmHoxyTblsxoOmPGwocnmQ1q21L/Kg5EUmXpQtm5IHj0J+c3Y+O/z//vaYWQzz/5Y99vzP/3f+zvnuz3/P+X/m97tV/puz7Uu3uIHtG+t+CP9WRGJKHJnsVIJkHPY5tl/9fWPv3yAQ8ZLxU03w72/WuPljPZ2aaj5k4wGnEuSNw8LQ/vT3jR3ZJLa6fMexsrKysrKysrKysrKysrKysrKysrKysrKy6nKxui7wdGWfDVO/g2YrrbIBL5pKaEfRCeu9bah2ns9/Hf0M9TSfp2LzKu06/c8aeVzWMF2+4wPOFZiWNQ8z9rkaW3jrcB9v8Q/qylfsjMO0vxxjM65xDdde7B1sMjbtRhiX9qKxh7+WcSEilSriWxjYr2Tdc+DsJIMRgGYVnHWIDs3KstEz12/cNYGywL1dCxOzvyxjM65+t2eerp9qMjbtxkVMtBeNPTvbhcYmfhUuoipAo0CwLK/sdv/qioWH1hihXhb0q3Aq/YFmgWkT01fWjBk7y6UdY0chVA3nB+41Qseo/73zNUOlnTjSf6XAs4yDftp+pEC1Sjy9nXGJk2efCEv+bk3FYnuPRid8TMWae3t2jDRlw7SbYFzavX71dU60tSGWTLa4N5vT9Z9TzWGMXTz8c1tK4gdepWNJ2crPwZtU8pEr54/FckLj9GqKJV8X9xfiVx8MDDTKAv0OY63bHIycfOf+JGM7ZycNC6pwKv0hVZhjk7FVY8d3b9glic94fsCDTqBj8dnSi/u27SzGWTd3QLznMCBh+qn7kQbVqvHU9o5x9b/Uo9ex7nn7dR8u2TqazoZ7Nc5z5ftIU3MP2k2gAO3S78SaSGNGxnVTMrZ8PTGiMZtoXa8ZO50JRiS+M/FY92i6RQycfJSvlBx4mQnGP4Sd/rXZ8KDGed0L+4lffaAC0CgZuMNY+VXti80s0sjjNTU1pw44Kpz6i8b2MuOOgwPM55cT+IGOIwXqhzjAs4yDfup+pEK1ajy1nXGhSOM1Z5D8iaalkvHp+t6h2kdNmQG+YdxCvxM9OoydmVHbIkH1jD1TzFzvBQrkW2Z7E3zpkLsYlK38cOXbp3r7qxoGLkCjQLAYy7Phas9MGtTLDR/4ePwBBU79ZWOLQnuODAuazg/ca4aOWY5/ztsSRx0H/dT9SIVq1XhKO+NCYr9McFzb+vY59vO9g0O1ydij7o4fGBfD+jI28QOvWtvaGua5mNyJv0onHw2Q3xVjIjF1+/6qhoE9aJTMBNzantkMP+JkMkljKpxKf5OxacfYnlZvmGo4PxnbAB0DB2sZWzMw/dT99FegWi2e0u51UFJusm2OTCluk7Ez424/1DJmOcYO5cfJ/wjdbj90vZaigQNT0i2ul7FF+f1VnbGBRplLArd2W7dq1MRppjk2GXt5nQqn0h9oVjU27Ri717Od+7adnBs0nJ85tgk6Bg4W08mc+OwTV52rMw76qfvpr0K1ajylnXEVdTqbh5OZA3umey4ZHDHHBc41Gjs/hwjM+IGxE+mstMocflRC4svDDvn9sWjs0KU1bq/GFrd/bfOatduOsb96P3AHaBQIFrhVPpJrZV+eihieY9csveiqcCr9gWaBaTE27UCzUw6PXjT0kPn8wL0m6Bg4WObqK2uGLnOJg4EZB/3U/fRXoVolntbOuFDgk8wB5Pe16HvvqYVnx8CXvQdoB8YFzjUbe5A81njYYexIUyqWTL0OesaWrzx1ib9pSDY3fWPsNw3e0xDp3iD9FWNbGBhhw78hzl9hcO/PoeORuTo38DxX18mHSpYJCfOcXJf9UMt/ztj5N3wV6exvx+U9iAh9kS8GAeMC5/5RY1sYuCKN/U9IpgzJZO73VjjG2FZWVlZWVlZWVlZWVlZWVlZWVlZWVlZWViUKuJdFUjqCZa7MWz4kq8OyslRfiV8aXBv4JCjMYOJ17XUAgq5QGLqy9CuVc7tOwL3AvtoN5ZW1XsDULDMkq0tnChccc5AO1fpnEBPplhlrXeIZoFrf18FQYJWtChVbiLfUyrm/+6U5NxRYtmRjA8n6NzZSoVr/xualty+o1nwd/Btbg4otxIuAWoFxgWZNlXNNlXt/EQ4G7gX2BbItQrPAsiEpdLv1gYuxqYhL5Vu26ngUSFaHXCe2yvfholFHpmIZ2QLFAtU6KP4mFZN+HE88FapNtKak3zyXeJK/3XhttocC1fq/DgVxfxRja1Ax46laiBdBkgDjAs0aKucC/5YNB5OpmFsC2bKgn4X8Ugj0Qr4aF8amIi6Vb9l2BsmqkKvAAAN6yfcYlTkxUGyBZPEEU7jv7BqH44mnQrVkbOI5I9vWf8od0KBa39cBcX8UY6tQcWE81QvxqsYGxgWaNVTOBf4tEw7WbyiQLdAs6FWcknIYm79R+ZZtJ5CsCrmOy9V57KBibKBYzdiRxvbszfHEU6Ba3dgSMDVTR7R8XwfE/VGMrSJqhfHY+pAYFhgXUsVUOddUudcvHGy6oRwHNAssO/Dtne+MTUVcKt+yNY0HMkWFXMXTnrsVYwPFasZOpK99N8cmngLVasb2YK4BOlTr+zp44v7oxlahYsZTzRCvCGMD42Jsc+VcINpS4WDgWdMNBZo1ZWwq4lL5lq1JGFuBXI0ZGyjWV8YWAdUajR1/WZ9+6GoZ2/d1EAFLd5qxGY/N2I4D1AqMi7FNlXOBaEuEg4FvjTf0h3PsK8U5NhVxqXzLtjNjq5CrzLt/OMcGii1Atd/Msfce7X52p8vxxAOqNRr7U67uee6oBtX6vg4FcX9Mc2zEeKoW4kVArcC4GNtQOReItmQ4GHiWGwrsyw0Fmu2AZde2PxWhMi8Vcal8y7YzY2uQa6L9qQiwbH9v2xwGii1Ata6D+rc/FeF44gHVqsYm3nD5OIbQixO9FajW/3UoiPvzlb3zZ20ijOP404uFxtAhDlZNOojgKyjYLV1cnNpFHSpm8R9cLXRrRCSDS95ABxXEQSwOcdfhZicv76GDQ6Yujl56+R6WGJre8xx9uHw+S/ndU45yfPvwcOSTryRo/dRzEvp7kHhnas4tXvXyt6F3Kp5ItaPnhMRr35xbfLDzSLz9359PeFU1niOp1k2DsJ4TEu85m3PnVs4FAAAAAAAAAAAAAAAokKAXhZ2Gcc9RjGwKF8fCn1/BflCA7Lv6wit5GOaM69+as0q8Xv4ewH9YGEZhGMWBORyGYbduTG/wIwq7QW7ZV/SjMA5G/zbbUdTZdCAP31h7XspP+4EoZMfeGMbXDofxkumF65cq+zll31McpcEeVCvH8ZK9PLzybJszO5w32P1o0yShbphep2Ej+04Gu22Se1bt5GGAnMFO8pymu9dZtpF9J4PdVLAt5GGiDfY79rKF7Ds12JbyMIcQOEVr1mAv6oytYOeTfacG21Ye5owNuXbs9K3IbaNg55V9M6n3ePS2ZVBXsC3lYd6KwBl4Kvtm9wPIgbeyb3q/ufzKIvCJsezr7f0AAAAAAC6GVQNQQgg2lBKCDaWEYEMpIdhQSgg2lBL7YDuVgDUj94K/wc4h7WpG7oWCg62mWDXDVmrvD558/fCuLul2ohHXUgLWrPWtt/eDlb1H1fF1PpENboKtptixfJtU+dxau7v1vSnp1lXjr9Ccre983H398M3JdXZscBZsNcVKvq09aF3uXv3UlnTrqvFXaP5n/eW9tiHY4DbYqmeTfFu72dobBVvS7UQjrqUErFnraR8iwYaCgi35VsGWdOuq8VdNtZqz9Y07Xw7WA4INxQRb8q2CLenWVeOvdmbN2XpywN55uptdB3AabMm3CrakW1eNv2qq1az1ZMc3iz+vPE6v8zUMf9k7z5iXojCO99ijapdWcLmIFbtGrdhq5rWpETOShqiL8MEeJfbeYjUIbUKsGvGBCpp+ESGIEYRvJL5IRMRzT/1bvVeXWm3PL5Lbe/ucc8+5/b3HeU/fk0fwz9exxaZdQfrkvNhi067gZ+S82GLTruAn5L7YAoEeIbZAIMQW5C8sObWZQJCDCLEFeYkQW5Axgwax/x4htuA7O2oz4JdYDJfzx9cUJsQW5BLr3XhlDoRZFMvekBR9HZhDYQUidv3SvVnaVG0m0+PpMFpiOnD9b1O/dQ+WgK8LOo9cxtJl4jjTTCnaj9zBesduf/Dxmv2E3e6WGMcRjLyw2Ql6Q2WOGnpNJreF2Hq42BgbQMsLTkbgetoMaWMaswzlU4M4lGu45dbjhcuSiN1gyQ3JLyGOzVpnqpO0q5ZyXGz0I9auTqtGKbjf95pvxc6tu1bKcf05tfW+zHA/HH8r892WgIcBv9/2wOnfcc03H89/hz/SofXHGK4EZDafHFf/nRBia4DYGgZvcrJfYUgVOZPyiEO5lpd6nFs4L4nY/B3EpewqxNbfr6jdcyWuHrZ5pPzDubX9NgXtIp6+WU5i4344/k6M13y2BwqL0inosHNj7UFlvh08kOkH1M9RzOS1OeA772ZUMFAoYr8/aDrpYcxGm2tX+hi7qW7KfS4xR7fGTUbQOTi/yjTsE4k966CJ/1dtvnKwTZ3nUjW+Cfe5hOsoV//qh7Hj1HrVzb4H5kXrXcxH28NrIALKa+OYg28KPo52IQ7lyNtpvUbKdPi8oPMjqrPXvrcLht+WWNHFzsOvz2MNXi/oPHz4dglxTCuYQ80IfJy3syndF2KjH7H7lW/GdY7VYzxyI+68Ja8X7TrlfppM7GqRTdEYIHTPqfzJ3cNOH9wko986rHdOkMMnHjhxYcfesMXlDTzwXpMZsLj428ZrhN0ejrx2zvfQLMV6rUDEnlpljnFjH8XcfoLP1m6mwm7WWeG0+Gmc2ua0tdumIM66ca3sWP3DHLv87Gd+V1h9UUl9iLiOcvWnTpDN5foo7HxQOT9wFIvWu3o8Yx0mOCECymviSLNtSsO6xxnahbhoObNXLvIorP6SDfOMR/YprNfw22o589DrctGR7QpGbMQxjWAWaoN5r4/6P9pp3EhKQ2z0D/cr6jqKxdfz8NGyuHPL3NEK2qWSRGw92udUvtnHdhM6XT0e7bcO8x2PkRwGxjv2az6X907QG+bjCrfYGgvYEfLxo+MEn4mcsD8rELH7HeKfSUuSiE1pNY/dbMUnkrNm0KA6kU8aOS3r9qbPOia2sesoiRFasVEO9fJ3yvWUUC8rv99ZtPoQ04qtiaP6O5JThxjapRMb7Vfnu+c2yKxXZAJc7RLpvJnmCBAbaAWjH0wn7z9dnDJ9XiKxeQPiMA+9LbE4qlLxXxVb+5zK91HK7Sw62jvabx00m1gflBiw+F12L58+uxlBM444rx2h6G9ANGZbAvMcwQIRW33qVavID/nmWpLqJv+UuNPcUg6fPcStijQgOTkasVEO9bKz6mbfnhLqVUXhMRqxtXE0DDrVERvtSiQ213ezKvZIXq7hls4ESZ5KbLOaEViOXKT50U/FRsfjaPlOc4EXT1fsapFN0VFhtc+p/Gip3CgSO9pvDcbITCSosCgOmpaQtIxjDYRpIhKS4tdEKCLg6RSU+HyksMTGwASxHupG7ONxI3ZRghEb5aL19hsv0UgEYVVjt82lU63YurhqAweMfaYwtCtdsatB58RiWyDFi4GjpMiImcGIbXmyHeVBNiO29jlBbNxWg/5Xx73hvcGPH/c++PixNjWbr+nYMKBHBnAVV8geuvMgFLCHXhbYiG1ufyDsd4WiYhl/MsfuFDfHHhakOTa9mkL2SwzXUQ71Nqzb23J2KoRVmTXgMH1mEAHldXFVN/n8VB/ahbhUYtMce57F5ZESi11/YHO1F4GwZOtKYk/d7+vUVT/Hxv0wxwb6aulHlabI2YqN/kPsaL+10CI1X9cDO+64XSFV2lCYBwc8tlBtBjCSu7xe752QNxCkY2GJzWx8c21MrE7dGtfRrIrM/rBJtrYf0LjOgAMys94bp66KMGajTbijJFxHOdRr5pt9Y8Kq6leSGYMIKK+Li2wKVtAuxKUSm1ZFtnQefiuJ2KVWT3CSjWpG4JVqO9+Pa0OrEcb+avtXOtEP3A+rIlEe73OyeFqq0/RsxUb/IXa03xpoBdt6zcdiOEhqWqT24NyvWPwM4LsagoZ2RV3PFn8r8mfAEAgREjFrhluyTMQcH6DcLwDBdBePp2rvUVrHToK1/WjnT9qlEftP4XCrCx53VU5479ijPFDlN4bwpRn/Op2gebYQW6Vhv6ack/PYb8Iy5PvEfYjJRK8SsbjVMoRqQLnM4N8A/pLY9M3j+CRm0zePPn27cD8c/xTkdTLOH8NTp5VNzvqwEPuPMLjx7LQ+ZiPfFAzp/hhc7AJDiC3IS4TYAkH2CLEFAiB2qQsKEiG2IC8RYgvyEiG2IC8RYgvykjTEnjXO1KKYgSjeoR4dOUiY9PvB/f4YDVr3SJRb5Att7q1lEOQDycWGwt9FW+82ZCk2MuymvN/vzPhbtY2pVS063XLm8cJaScQuWnKj++RiiKPsTqY61Q2C3CR9sUH2Yi/en5nYxe/tySbjL3L50daZzSO7JBab3pkWi+MXSguxc5UMxKZNrDQVQaZeLrZ1Y59GiTLzxjLxqpt3KYwf9Zl4keMG8T8Ru0NHfvzFjL8Qm7zttaEyHT7TjIMyhUQ291KuG9rc+6qCoYhv7u1b7HucEDu3SV9szLGRqZfEpr0FpEwCkInX3G5bTTXDLo5Ia6cVG/EpxM484y/EruEta/SUMTRYsmGS+cj2Mgba3Fui5CJDjaH7KluP9C3DzY/FCbFzm8zFRqbekuWeb9xWM3EpZOJtqOZRmjimFo6JxEa8RmyeGLUNEqNmnvEXYgMS+4zBsHlDWUOvhbxcfVXnXjT3iIgNhNi5TcZiQ0QSu0nFnTSwJcrMi/R35DK3G8dEYiM+5YidfsZfvdhYFeFij+TlWkY299YSYucV2Yg98wWlYEwAxE5rxKZLKcTOIuNvUrExYhNC7LwiC7FJqomHL6cSWzfH1mbYtXZtW8IxMIHY2Wf8TSl2jaHXJ012eYoJsfOK1GKb+SbWtSVqtOebWSv/KHbxIWOWJhebsHXjqxQ46jLsfmvvbEKiCOM4/LYffq1r7ebnuhcpFsRCEI0OiV4kSgpcIiGqNaVQ8BBCCHuRFYUI9BSalAQegvBS0CHo4s1bB6FTdOwSUh1catlL78zuz11nW3acnTH37fdAjazwzuXh5XVmH/5v13uim8sQe/9+dk38LSW2COlxL8VWC3VeqReb+AuxTUGxVeGfid2djYCXLzk+8fd0g/bm8ZDwzWNlo86OzYm/REmxCaHYRHUoNlESik2UhGITJaHYREkoNlESik2UxIrY7pdx81HY8YuFyf+ApR3785TIp/6NR+j0LdyuEQbKj4VbVh4HBCFHfhSZnc6IHepFeGCgzFi45cKkRxBir9ihT3vJ5FZM+hv/mkwnXOJJMhV3ZT+fnhJPf6dTae1z93U9n0Hsm41t3b4Xq/c3158HENlaiIUbq8cEIXaLveM5sb3jErOphIxfccaWn8drvT/jNUJ8nPZkigE9dEHsm41t3b7gmd6hkQ9hRLYWYmHvjFyOEJvFHtNOG375r13oQOxnmtO1EDtT0eZiXxwnfKMDdYnmjTFEtlZi4XHZEhBis9hNQpdayn1Q7KaDYssJtflxLmJbX8fAjCY2IlsrsfBd+TVrQuwUGzuzv5TY2LEhJmJbiC0jWwuxMHds4pjY8cjrVzuuomLLX8wJF87Y+2IitoXYucjW/Wiv1nQszDM2cUrs+WRqKyYgtnc7mUoltwI5sdu2U2kZzbp9QX+e2IhtIXYush2sO9d6qFi48TKfihD7xQ4Lc4Q2bpraWEcWLwpz8Dk2cfSPRzOYf/PY/WBOmANvHiOCENvFZqpNKg5+u48oCcUmSkKxiZJQbKIkFJsoCcUmSkKxiZJQbKIkJcTGdz/Mx7j2MB4MMBImTottIcbFZFzrYuMVvaORMGNhVbFT7MLJuOWIjTjY2UiYX7KqVAbKF/v7eoOMaxHjGifuGmNc7fOG6HvjBF7EvXqsezXvinUR8YorCw3RX8EA4mCnI2HGwkpiQuyJU7HmpY4axLjGibuGUED+P+QZXItgHB3AJF253qSneWnXhSvWRcTbtjTa2rcYDCBccDgSZsigJqXFRlyLGNc4cbdAbF/0SyvmLP7lGFClVQPXuvy4Yt3cfZq0ZiGA1MzhSJjpmZqUFhtFC2Jc48Rdo0Bi8Ntq53xrgdiIe6uqw1qd244r1sV9ZBOcOWNrPzgfCTMWVhPzYiPGhdjFdmyJ+92wnopB7Hs1eZN0Mztnlx9XrJu7Tzi3YzsWCXPHVhzzYiPGhdjFztjetYeu+v5E3mTcs8Na44i4t2riTqSvf3f/inVxH8MZ26lImGdstTEvNmJc48RdY4zrXTnf03kjljeBd2RxyCME4l75lOXWSfk0BFesi/voT0V+LAcQBzsdCTMWVhKIfXTIszWuJuJgZyJhPsdWnuMsNt44OhgJMxZWlWMtNiGVIzYhhVBsQig2IYQQQgghhBBCCCGEEEIIIYQQQgghpOL5AwvjjQMpgK7tAAAAAElFTkSuQmCC" alt="python-wzry-16"></p> <p>建立字典的目的是便于索引，可以直接通过路径拿到英雄名称：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code>        relations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token comment"># 获取英雄关系</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;hero-list hero-relate-list fl&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">:</span>
            temp <span class="token operator">=</span> target<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
            hero_one <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            hero_two <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            relations<span class="token punctuation">.</span>append<span class="token punctuation">(</span>hero_one<span class="token operator">+</span><span class="token string">&quot;/&quot;</span><span class="token operator">+</span>hero_two<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>用一个列表来存放这三个关系。</p> <p>于是整个代码变成了这个样子：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup


herolist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
hero_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
root_url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/&quot;</span>
herolist_url <span class="token operator">=</span> root_url <span class="token operator">+</span> <span class="token string">&quot;herolist.shtml&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64)'</span><span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">get_herolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>herolist_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span><span class="token punctuation">)</span>
    soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span>
    targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;herolist clearfix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">:</span>
        name <span class="token operator">=</span> target<span class="token punctuation">.</span>text
        hero_dictionary<span class="token punctuation">[</span>target<span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> name  <span class="token comment"># 建立字典</span>
        link <span class="token operator">=</span> root_url <span class="token operator">+</span> target<span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> link<span class="token punctuation">)</span>
        herolist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> link<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">get_heroinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    professions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'herodetail-sort-1'</span><span class="token punctuation">:</span> <span class="token string">'战士'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-2'</span><span class="token punctuation">:</span> <span class="token string">'法师'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-3'</span><span class="token punctuation">:</span> <span class="token string">'坦克'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-4'</span><span class="token punctuation">:</span> <span class="token string">'刺客'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-5'</span><span class="token punctuation">:</span> <span class="token string">'射手'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-6'</span><span class="token punctuation">:</span> <span class="token string">'辅助'</span>
                   <span class="token punctuation">}</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> herolist<span class="token punctuation">:</span>
        name<span class="token punctuation">,</span>hero_url <span class="token operator">=</span> item
        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>hero_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span>
        title <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;h3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text  <span class="token comment"># 英雄称号</span>
        profession <span class="token operator">=</span> professions<span class="token punctuation">[</span>soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;herodetail-sort&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment"># 英雄职业</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;cover-list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span>
        values <span class="token operator">=</span> <span class="token punctuation">[</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;:([0-9]+%)&quot;</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'style'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">]</span>  <span class="token comment"># 英雄能力值</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
        relations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment"># 关系列表</span>
        <span class="token comment"># 获取英雄关系</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;hero-list hero-relate-list fl&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">:</span>
            temp <span class="token operator">=</span> target<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
            hero_one <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            hero_two <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            relations<span class="token punctuation">.</span>append<span class="token punctuation">(</span>hero_one<span class="token operator">+</span><span class="token string">&quot;/&quot;</span><span class="token operator">+</span>hero_two<span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> name<span class="token punctuation">,</span> profession<span class="token punctuation">,</span> values<span class="token punctuation">,</span> relations<span class="token punctuation">)</span>


get_herolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
get_heroinfo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div><p>运行起来可以发现，刚开始很正常，顺利获取了数据：</p> <p><img src="/blogs/assets/img/python-wzry-17.e7554783.png" alt="python-wzry-17"></p> <p>但到后面就报错了，显示<code>KeyError</code>：</p> <p><img src="/blogs/assets/img/python-wzry-18.c7c6330e.png" alt="python-wzry-18"></p> <p>这是因为字典中没有这个键，这说明了什么？</p> <p>说明了最开始爬到的诸多英雄，是有缺失的。访问一下这个528.shtml对应的页面：</p> <p><img src="/blogs/assets/img/python-wzry-19.a57951e5.png" alt="python-wzry-19"></p> <p>再后头检查一下爬到的英雄，发现真的没有澜...</p> <p>感觉有点无语，但毕竟已经是个到这一步了，容我冷静地想一想为什么...</p> <p><img src="data:image/jpeg;base64,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" alt="while(true)反复分析(程序员)_While_true_程序员_反复_分析表情"></p> <h4 id="反思问题"><a href="#反思问题" class="header-anchor">#</a> 反思问题</h4> <p>不难发现，这个链接返回的数据，原本就是缺的：</p> <p><img src="/blogs/assets/img/python-wzry-21.e8c7dade.png" alt="python-wzry-21"></p> <p>前面的这部分数据，明显找不到。</p> <p><img src="/blogs/assets/img/python-wzry-22.ce49c561.png" alt="python-wzry-22"></p> <p>再看看这让人匪夷所思的URL，搞不好数据还是停留在2016年的...</p> <p>再看看请求头，发现status code是304并非200，可见发生了网页重定向：</p> <p><img src="/blogs/assets/img/python-wzry-23.0fa41efc.png" alt="python-wzry-23"></p> <p>就不详细解释304的意思了，直接百度 <a href="https://wenku.baidu.com/view/97ccaaa6d7d8d15abe23482fb4daa58da0111ca5.html" target="_blank" rel="noopener noreferrer">分析HTTP请求返回304状态码 - 百度文库<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>遇到这种问题并非没有解决方法，但我就不继续挖坑了，因为我更乐意另辟蹊径。</p> <p>在XHR中发现了一条请求，返回的是json数据。</p> <p><img src="/blogs/assets/img/python-wzry-24.6b3b9010.png" alt="python-wzry-24"></p> <p>不妨看看这是个甚么数据：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> requests

hero_dict <span class="token operator">=</span> <span class="token builtin">dict</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
hero_list <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/js/herolist.json&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64)'</span><span class="token punctuation">}</span>
results <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span>headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> result <span class="token keyword">in</span> results<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>看到这个数据，检验了一下，发现是齐全的，不禁觉得惊喜又感动，但又有那么一丝惆怅。</p> <p><img src="/blogs/assets/img/python-wzry-25.96597182.png" alt="python-wzry-25"></p> <p>之前以为静态网页就是软柿子了，但现在这个json数据似乎更加简明。所以说，我们不能局限在经验里。</p> <h4 id="改善代码"><a href="#改善代码" class="header-anchor">#</a> 改善代码</h4> <p>现在只要将第一个获取英雄列表的函数替换：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">get_herolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/js/herolist.json&quot;</span>
    results <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> result <span class="token keyword">in</span> results<span class="token punctuation">:</span>
        name <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token string">&quot;cname&quot;</span><span class="token punctuation">]</span> <span class="token comment"># 英雄名称</span>
        link <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/herodetail/{}.shtml&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&quot;ename&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        herolist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>link<span class="token punctuation">)</span><span class="token punctuation">)</span>
        hero_dictionary<span class="token punctuation">[</span><span class="token string">&quot;{}.shtml&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&quot;ename&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> name
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在稍微修改一下后面的代码，目前得到的代码是这样的：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> re

herolist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
hero_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
result_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
root_url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/&quot;</span>
herolist_url <span class="token operator">=</span> root_url <span class="token operator">+</span> <span class="token string">&quot;herolist.shtml&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64)'</span><span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">get_herolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/js/herolist.json&quot;</span>
    results <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> result <span class="token keyword">in</span> results<span class="token punctuation">:</span>
        name <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token string">&quot;cname&quot;</span><span class="token punctuation">]</span> <span class="token comment"># 英雄名称</span>
        link <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/herodetail/{}.shtml&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&quot;ename&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        herolist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>link<span class="token punctuation">)</span><span class="token punctuation">)</span>
        hero_dictionary<span class="token punctuation">[</span><span class="token string">&quot;{}.shtml&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&quot;ename&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> name


<span class="token keyword">def</span> <span class="token function">get_heroinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    professions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'herodetail-sort-1'</span><span class="token punctuation">:</span> <span class="token string">'战士'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-2'</span><span class="token punctuation">:</span> <span class="token string">'法师'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-3'</span><span class="token punctuation">:</span> <span class="token string">'坦克'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-4'</span><span class="token punctuation">:</span> <span class="token string">'刺客'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-5'</span><span class="token punctuation">:</span> <span class="token string">'射手'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-6'</span><span class="token punctuation">:</span> <span class="token string">'辅助'</span>
                   <span class="token punctuation">}</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> herolist<span class="token punctuation">:</span>
        name<span class="token punctuation">,</span>hero_url <span class="token operator">=</span> item
        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>hero_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span>
        title <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;h3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text  <span class="token comment"># 英雄称号</span>
        profession <span class="token operator">=</span> professions<span class="token punctuation">[</span>soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;herodetail-sort&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment"># 英雄职业</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;cover-list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span>
        values <span class="token operator">=</span> <span class="token punctuation">[</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;:([0-9]+%)&quot;</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'style'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">]</span>  <span class="token comment"># 英雄能力值</span>
        relations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token comment"># 获取英雄关系</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;hero-list hero-relate-list fl&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">:</span>
            temp <span class="token operator">=</span> target<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
            hero_one <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            hero_two <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            relations<span class="token punctuation">.</span>append<span class="token punctuation">(</span>hero_one<span class="token operator">+</span><span class="token string">&quot;/&quot;</span><span class="token operator">+</span>hero_two<span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> name<span class="token punctuation">,</span> profession<span class="token punctuation">,</span> values<span class="token punctuation">,</span> relations<span class="token punctuation">,</span> hero_url<span class="token punctuation">)</span>


get_herolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
get_heroinfo<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p>运行结果如下：</p> <p><img src="/blogs/assets/img/python-wzry-26.50f4f6e6.png" alt="python-wzry-26"></p> <p>事实上数据还可以进一步扩充，这就看自己的意愿了。</p> <h4 id="数据存储"><a href="#数据存储" class="header-anchor">#</a> 数据存储</h4> <p>下面实现将数据保存到excel。</p> <p>一个Excel文档也称为一个工作簿（workbook），每个工作簿里可以有多个工作表（worksheet），当前打开的工作表又叫活动表。</p> <p><img src="/blogs/assets/img/crawler-l6-8-2019111.608b330e.png" alt=""></p> <p>每个工作表里有行和列，特定的行与列相交的方格称为单元格（cell）。比如上图第A列和第1行相交的方格可以直接表示为A1单元格。</p> <p>通过openpyxl.Workbook()函数就可以创建新的工作簿。</p> <p>创建完新的工作簿后，还得获取工作表。不然程序会无所适从，不知道要把内容写入哪张工作表里。</p> <p>添加完工作表，就能来操作单元格，往单元格里写入内容。</p> <p>使用append函数，就可以添加一行。</p> <p>代码如下：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">save_excel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    wb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>Workbook<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sheet <span class="token operator">=</span> wb<span class="token punctuation">.</span>active
    sheet<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;sheet1&quot;</span>
    <span class="token comment"># 表头</span>
    head <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;英雄称号&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;英雄名称&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;英雄职业&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;生存能力&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;攻击伤害&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;技能效果&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上手难度&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;最佳搭档&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;压制英雄&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;被压制英雄&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;链接&quot;</span><span class="token punctuation">]</span>
    sheet<span class="token punctuation">.</span>append<span class="token punctuation">(</span>head<span class="token punctuation">)</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> result_list<span class="token punctuation">:</span>
        <span class="token comment"># 将数据整合为一维列表便于添加</span>
        row <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> value <span class="token keyword">in</span> item<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">for</span> group <span class="token keyword">in</span> item<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>group<span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        sheet<span class="token punctuation">.</span>append<span class="token punctuation">(</span>row<span class="token punctuation">)</span> <span class="token comment"># 整行添加</span>

    wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'result.xlsx'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>如下就是最后的结果了</p> <p><img src="/blogs/assets/img/python-wzry-28.f9ceebbb.png" alt="python-wzry-28"></p> <p>接着又试着获取了所有装备的信息，就不详细描述了。</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">def</span> <span class="token function">get_equiplist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    type_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;攻击&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;法术&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;防御&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;移动&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;打野&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;游走&quot;</span><span class="token punctuation">]</span>
    url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/js/item.json&quot;</span>
    items <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> items<span class="token punctuation">:</span>
        name <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;item_name&quot;</span><span class="token punctuation">]</span>
        item_type <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;item_type&quot;</span><span class="token punctuation">]</span>
        price <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;price&quot;</span><span class="token punctuation">]</span>
        total_price <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;total_price&quot;</span><span class="token punctuation">]</span>
        attribute <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;des1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            ability <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;des2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> KeyError<span class="token punctuation">:</span>
            ability <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
        equip_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token punctuation">,</span> type_list<span class="token punctuation">[</span>item_type<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> price<span class="token punctuation">,</span> total_price<span class="token punctuation">,</span> attribute<span class="token punctuation">,</span> ability<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><img src="/blogs/assets/img/python-wzry-29.59c91e5d.png" alt="python-wzry-29"></p> <p>最后的完整代码：</p> <div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup
<span class="token keyword">import</span> openpyxl
<span class="token keyword">import</span> re

herolist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
hero_dictionary <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
equip_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
result_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
root_url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/&quot;</span>
herolist_url <span class="token operator">=</span> root_url <span class="token operator">+</span> <span class="token string">&quot;herolist.shtml&quot;</span>
headers <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'user-agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64)'</span><span class="token punctuation">}</span>


<span class="token keyword">def</span> <span class="token function">get_herolist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/js/herolist.json&quot;</span>
    results <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> result <span class="token keyword">in</span> results<span class="token punctuation">:</span>
        name <span class="token operator">=</span> result<span class="token punctuation">[</span><span class="token string">&quot;cname&quot;</span><span class="token punctuation">]</span> <span class="token comment"># 英雄名称</span>
        link <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/herodetail/{}.shtml&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&quot;ename&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        herolist<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span>link<span class="token punctuation">)</span><span class="token punctuation">)</span>
        hero_dictionary<span class="token punctuation">[</span><span class="token string">&quot;{}.shtml&quot;</span><span class="token punctuation">.</span><span class="token builtin">format</span><span class="token punctuation">(</span>result<span class="token punctuation">[</span><span class="token string">&quot;ename&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> name


<span class="token keyword">def</span> <span class="token function">get_heroinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    professions <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'herodetail-sort-1'</span><span class="token punctuation">:</span> <span class="token string">'战士'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-2'</span><span class="token punctuation">:</span> <span class="token string">'法师'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-3'</span><span class="token punctuation">:</span> <span class="token string">'坦克'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-4'</span><span class="token punctuation">:</span> <span class="token string">'刺客'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-5'</span><span class="token punctuation">:</span> <span class="token string">'射手'</span><span class="token punctuation">,</span>
                   <span class="token string">'herodetail-sort-6'</span><span class="token punctuation">:</span> <span class="token string">'辅助'</span>
                   <span class="token punctuation">}</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> herolist<span class="token punctuation">:</span>
        name<span class="token punctuation">,</span>hero_url <span class="token operator">=</span> item
        res <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>hero_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
        soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>res<span class="token punctuation">.</span>content<span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">&quot;gbk&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;html.parser&quot;</span><span class="token punctuation">)</span>
        title <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;h3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text  <span class="token comment"># 英雄称号</span>
        profession <span class="token operator">=</span> professions<span class="token punctuation">[</span>soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;herodetail-sort&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>  <span class="token comment"># 英雄职业</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;cover-list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span>
        values <span class="token operator">=</span> <span class="token punctuation">[</span>re<span class="token punctuation">.</span>search<span class="token punctuation">(</span><span class="token string">r&quot;:([0-9]+%)&quot;</span><span class="token punctuation">,</span> target<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">&quot;i&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'style'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>group<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">]</span>  <span class="token comment"># 英雄能力值</span>
        relations <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token comment"># 获取英雄关系</span>
        targets <span class="token operator">=</span> soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span>class_<span class="token operator">=</span><span class="token string">&quot;hero-list hero-relate-list fl&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> target <span class="token keyword">in</span> targets<span class="token punctuation">:</span>
            temp <span class="token operator">=</span> target<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span>
            hero_one <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            hero_two <span class="token operator">=</span> hero_dictionary<span class="token punctuation">[</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
            relations<span class="token punctuation">.</span>append<span class="token punctuation">(</span>hero_one<span class="token operator">+</span><span class="token string">&quot;/&quot;</span><span class="token operator">+</span>hero_two<span class="token punctuation">)</span>

        <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> name<span class="token punctuation">,</span> values<span class="token punctuation">,</span> hero_url<span class="token punctuation">)</span>
        result_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> name<span class="token punctuation">,</span> profession<span class="token punctuation">,</span> values<span class="token punctuation">,</span> relations<span class="token punctuation">,</span> hero_url<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">get_equiplist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    type_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;攻击&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;法术&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;防御&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;移动&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;打野&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;游走&quot;</span><span class="token punctuation">]</span>
    url <span class="token operator">=</span> <span class="token string">&quot;https://pvp.qq.com/web201605/js/item.json&quot;</span>
    items <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> items<span class="token punctuation">:</span>
        name <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;item_name&quot;</span><span class="token punctuation">]</span>
        item_type <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;item_type&quot;</span><span class="token punctuation">]</span>
        price <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;price&quot;</span><span class="token punctuation">]</span>
        total_price <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;total_price&quot;</span><span class="token punctuation">]</span>
        attribute <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;des1&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            ability <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">&quot;des2&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>strip<span class="token punctuation">(</span><span class="token string">&quot;&lt;/p&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token punctuation">(</span><span class="token string">&quot;&lt;br&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span>
        <span class="token keyword">except</span> KeyError<span class="token punctuation">:</span>
            ability <span class="token operator">=</span> <span class="token string">&quot;&quot;</span>
        equip_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token punctuation">[</span>name<span class="token punctuation">,</span> type_list<span class="token punctuation">[</span>item_type<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> price<span class="token punctuation">,</span> total_price<span class="token punctuation">,</span> attribute<span class="token punctuation">,</span> ability<span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">save_excel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    wb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>Workbook<span class="token punctuation">(</span><span class="token punctuation">)</span>
    sheet <span class="token operator">=</span> wb<span class="token punctuation">.</span>active
    sheet<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">&quot;英雄大全&quot;</span>
    head <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;英雄称号&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;英雄名称&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;英雄职业&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;生存能力&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;攻击伤害&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;技能效果&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上手难度&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;最佳搭档&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;压制英雄&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;被压制英雄&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;链接&quot;</span><span class="token punctuation">]</span>
    sheet<span class="token punctuation">.</span>append<span class="token punctuation">(</span>head<span class="token punctuation">)</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> result_list<span class="token punctuation">:</span>
        row <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token keyword">for</span> value <span class="token keyword">in</span> item<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">for</span> group <span class="token keyword">in</span> item<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
            row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>group<span class="token punctuation">)</span>
        row<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        sheet<span class="token punctuation">.</span>append<span class="token punctuation">(</span>row<span class="token punctuation">)</span>

    sheet <span class="token operator">=</span> wb<span class="token punctuation">.</span>create_sheet<span class="token punctuation">(</span><span class="token string">&quot;装备大全&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
    head <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;装备名称&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;装备类型&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;售价&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;总价&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;属性&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;技能&quot;</span><span class="token punctuation">]</span>
    sheet<span class="token punctuation">.</span>append<span class="token punctuation">(</span>head<span class="token punctuation">)</span>
    <span class="token keyword">for</span> item <span class="token keyword">in</span> equip_list<span class="token punctuation">:</span>
        sheet<span class="token punctuation">.</span>append<span class="token punctuation">(</span>item<span class="token punctuation">)</span>

    wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'result.xlsx'</span><span class="token punctuation">)</span>
    wb<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    get_herolist<span class="token punctuation">(</span><span class="token punctuation">)</span>
    get_heroinfo<span class="token punctuation">(</span><span class="token punctuation">)</span>
    get_equiplist<span class="token punctuation">(</span><span class="token punctuation">)</span>
    save_excel<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br></div></div></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/nbtca/edit/master/docs/01.技术/04.Python/09.Python爬虫实战-获取王者荣耀英雄大全.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2024/03/29, 12:07:43</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/blogs/pages/aff776/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">Linux笔记 - 信号</div></a> <a href="/blogs/pages/019940/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Python爬虫实战 - 爬取TIOBE TOP20语言排行榜</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blogs/pages/aff776/" class="prev">Linux笔记 - 信号</a></span> <span class="next"><a href="/blogs/pages/019940/">Python爬虫实战 - 爬取TIOBE TOP20语言排行榜</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/blogs/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/blogs/pages/bd144d/"><div>
            Go语言极限入门
            <!----></div></a> <span class="date">04-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/blogs/pages/019940/"><div>
            Python爬虫实战 - 爬取TIOBE TOP20语言排行榜
            <!----></div></a> <span class="date">04-05</span></dt></dl><dl><dd>03</dd> <dt><a href="/blogs/pages/324bec/"><div>
            Linux笔记 - 进程
            <!----></div></a> <span class="date">04-05</span></dt></dl> <dl><dd></dd> <dt><a href="/blogs/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="https://github.com/nbtca" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2023-2024
    <span></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/blogs/assets/js/app.4e3e2af5.js" defer></script><script src="/blogs/assets/js/3.cae9d0dd.js" defer></script><script src="/blogs/assets/js/2.3e01c173.js" defer></script><script src="/blogs/assets/js/11.d6ed255f.js" defer></script>
  </body>
</html>
